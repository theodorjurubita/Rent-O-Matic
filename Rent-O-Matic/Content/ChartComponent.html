
<!--<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
<link rel="import" href="../bower_components/vaadin-charts/vaadin-column-chart.html">-->


<dom-module id="chart-component">
    <template>
        <iron-ajax id="series"  auto url="http://localhost:54208/api/cars/getBrandStatistics"  handle-as="json" last-response="{{seriesData}}" debounce-duration="300"></iron-ajax>

        <vaadin-column-chart class="chart">
            <title>Top 5 brand preferrences for rental</title>
            <x-axis type="category"></x-axis>
            <y-axis>
                <title>Total percent rentals</title>
            </y-axis>
            <legend enabled="false"></legend>
            <plot-options>
                <series>
                    <data-labels enabled="true" format="{point.y:.1f}%">
                    </data-labels>
                </series>
            </plot-options>
            <data-series>
                <name>Vendors</name>
                <color-by-point>true</color-by-point>
                <data>
                    <template id="brandPercentageTemplate" is="dom-repeat" items="{{seriesData}}" as="brand">
                        <point>
                            <name>{{brand.Name}}</name>
                            <y>{{brand.Percentace}}</y>
                            <drilldown>{{brand.Name}}</drilldown>
                        </point>
                    </template>
                </data>
            </data-series>

            <data-series id="{{seriesData.Name}}" drilldown="true">
                <name>Mercedes</name>
                <data>
                    [ "v35", 2.76 ], [ "v36", 2.32 ], [ "v37", 2.31 ], [ "v34", 1.27 ], [ "v38", 1.02 ], [
                    "v31", 0.33 ], [ "v33", 0.22 ], [ "v32", 0.15 ]
                </data>
            </data-series>
            <data-series id="Mercedes" drilldown="true">
                <name>Mercedes</name>
                <data>
                    [ "v35", 2.76 ], [ "v36", 2.32 ], [ "v37", 2.31 ], [ "v34", 1.27 ], [ "v38", 1.02 ], [
                    "v31", 0.33 ], [ "v33", 0.22 ], [ "v32", 0.15 ]
                </data>
            </data-series>
            <data-series id="Mercedes" drilldown="true">
                <name>Mercedes</name>
                <data>
                    [ "v35", 2.76 ], [ "v36", 2.32 ], [ "v37", 2.31 ], [ "v34", 1.27 ], [ "v38", 1.02 ], [
                    "v31", 0.33 ], [ "v33", 0.22 ], [ "v32", 0.15 ]
                </data>
            </data-series>
            <data-series id="Mercedes" drilldown="true">
                <name>Mercedes</name>
                <data>
                    [ "v35", 2.76 ], [ "v36", 2.32 ], [ "v37", 2.31 ], [ "v34", 1.27 ], [ "v38", 1.02 ], [
                    "v31", 0.33 ], [ "v33", 0.22 ], [ "v32", 0.15 ]
                </data>
            </data-series>
            <data-series id="Mercedes" drilldown="true">
                <name>Mercedes</name>
                <data>
                    [ "v35", 2.76 ], [ "v36", 2.32 ], [ "v37", 2.31 ], [ "v34", 1.27 ], [ "v38", 1.02 ], [
                    "v31", 0.33 ], [ "v33", 0.22 ], [ "v32", 0.15 ]
                </data>
            </data-series>
            <data-series id="Mercedes" drilldown="true">
                <name>Mercedes</name>
                <data>
                    [ "v35", 2.76 ], [ "v36", 2.32 ], [ "v37", 2.31 ], [ "v34", 1.27 ], [ "v38", 1.02 ], [
                    "v31", 0.33 ], [ "v33", 0.22 ], [ "v32", 0.15 ]
                </data>
            </data-series>

            <!--<template id="brandModelTemplate" is="dom-repeat" items="{{seriesData}}" as="brandStat">
                <data-series id="{{brandStat.Name}}" drilldown="true">
                    <name>{{brandStat.Name}}</name>
                    <data>
                        <template is="dom-repeat" items="{{seriesData.CarModelStatistics}}" as="modelStat">
                            ["{{modelStat.CarModel}}",{{modelStat.Percentage}}],
                        </template>
                    </data>
                </data-series>
            </template>-->
        </vaadin-column-chart>
    </template>
</dom-module>
<script>
        Polymer({
            is: 'chart-component'

        });
        var data =  {
            get: function(sort, page, pageSize) {
                return this.$.series.generateRequest().completes;
            }
        }
        console.log(data);
</script>

            <!--<data-series id="Mercedes" drilldown="true">
                    <name>Mercedes</name>
                    <data>
                        [ "v35", 2.76 ], [ "v36", 2.32 ], [ "v37", 2.31 ], [ "v34", 1.27 ], [ "v38", 1.02 ], [
                        "v31", 0.33 ], [ "v33", 0.22 ], [ "v32", 0.15 ]
                    </data>
                </data-series>
                <data-series id="Safari" drilldown="true">
                    <name>Safari</name>
                    <data>
                        [ "v8.0", 2.56 ], [ "v7.1", 0.77 ], [ "v5.1", 0.42 ], [ "v5.0", 0.3 ], [ "v6.1", 0.29 ],
                        [ "v7.0", 0.26 ], [ "v6.2", 0.17 ]
                    </data>
                </data-series>
                <data-series id="Opera" drilldown="true">
                    <name>Opera</name>
                    <data>
                        [ "v12.x", 0.34 ], [ "v28", 0.24 ], [ "v27", 0.17 ], [ "v29", 0.16 ]
                    </data>
                </data-series>-->

        

